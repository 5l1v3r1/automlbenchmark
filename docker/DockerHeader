FROM ubuntu:16.04

# == Python & Python OpenML setup ==
RUN apt-get update
RUN apt-get install -y python3.5 python3-pip python3-venv


# We create a virtual environment so that AutoML systems may use their preferred versions of 
# packages that we need to data pre- and postprocessing without breaking it.
RUN python3 -m venv /venvs/setup

# NumPy and SciPy need be installed, otherwise OpenML setup will fail.
RUN /venvs/setup/bin/pip3 install --no-cache-dir numpy==1.15.0 
RUN /venvs/setup/bin/pip3 install --no-cache-dir scipy==1.1.0
RUN /venvs/setup/bin/pip3 install --no-cache-dir openml==0.7.0
# ==================================

WORKDIR /bench
ADD common/evaluate.py /bench/common/evaluate.py
ADD common/load_data.py /bench/common/load_data.py
ADD common/startup.sh /bench/common/startup.sh
